!function(i){"use strict";i.lakitGivePopup=function(t,o={}){const a=i.extend({onLoad:null,showLoading:!1},o);i(".lakit-popup--wrap").remove();let e=`<div class="lakit-popup--content">\n          <span class="lakit-popup--close">&times;</span>\n          <div class="lakit-popup--iframe">\n            <iframe src="${t}" frameborder="0"></iframe>\n          </div>\n          <div class="lakit-popup--overlay"></div>\n        </div>`;e=a.showLoading?`<div class="lakit-popup--wrap lakit-popup--givewp lakit-popup--show-loading lakit-popup--is-loading">${e}<div class="lakit-popup--loading"><div class="lakit-loader spinner3"><div class="dot1"></div><div class="dot2"></div><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div><div class="cube1"></div><div class="cube2"></div><div class="cube3"></div><div class="cube4"></div></div></div></div></div>`:`<div class="lakit-popup--wrap lakit-popup--givewp lakit-popup--is-loading">${e}</div>`;const n=i(e);function s(){i("html").removeClass("lakit-no-scroll"),n.fadeOut(200,(function(){n.remove(),i(document).off("keydown.lakitPopup")}))}i("body").append(n),n.fadeIn(200),n.find(".lakit-popup--close, .lakit-popup--overlay").on("click",(function(){s()})),i(document).on("keydown.lakitPopup",(function(i){"Escape"===i.key&&s()})),n.find("iframe").on("load",(function(){i("html").addClass("lakit-no-scroll"),n.removeClass("lakit-popup--is-loading").addClass("lakit-popup--is-ready");let t=this;try{const o=i(t.contentDocument).find("#root-givewp-donation-form"),a=o.attr("class").split(/\s+/).find((i=>i.startsWith("givewp-donation-form-design--")));a&&i(".lakit-popup--iframe").addClass(`frame-${a?.split("--")[1]??"0"}`);const e=()=>{const a=o[0].clientHeight;a!==i(t).outerHeight()&&i(t).height(a)};e();const n=new MutationObserver(e);n.observe(o[0],{childList:!0,subtree:!0,characterData:!0});const s=new MutationObserver((()=>{document.body.contains(t)||(n.disconnect(),s.disconnect())}));s.observe(document.body,{childList:!0,subtree:!0})}catch(i){}"function"==typeof a.onLoad&&a.onLoad(this)}))},i((function(){i(document).on("click",".lakit-posts__btn-donate",(function(t){if(t.preventDefault(),i("html").hasClass("elementor-html")||i(this).hasClass("loading"))return;let o=i(this);if(!0===o.data("isv3"))return o.addClass("loading"),i.lakitGivePopup(LaStudioKitSettings.giveRouter.replace("lakit_rp_lakit",o.data("id")),{onLoad:function(i){o.removeClass("loading")}}),!1;const a=i(".lakit-give-form-modal[data-id='"+o.data("id")+"']").first();i.magnificPopup.open({items:{type:"inline",src:a},fixedContentPos:!0,fixedBgPos:!0,closeBtnInside:!0,midClick:!0,removalDelay:300,mainClass:"modal-fade-slide",callbacks:{open:function(){i(".mfp-content").addClass("lakit-mfp--content")},beforeOpen:function(){const t=i(".root-data-givewp-embed",a);t.length>0&&0===i(">iframe",t).length&&(i("<iframe>",{src:t.data("src"),id:t.data("givewp-embed-id"),title:"iframe",scrolling:"no"}).appendTo(t),"undefined"!=typeof iFrameResize&&iFrameResize())}}})}));elementorFrontend.utils.urlActions.addAction("givewp_form:open",(t=>{const o=t?.id;o&&i.lakitGivePopup(LaStudioKitSettings.giveRouter.replace("lakit_rp_lakit",o),{showLoading:!0})}))}))}(jQuery);