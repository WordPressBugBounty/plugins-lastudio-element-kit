!function(t){"use strict";t(window).on("elementor/frontend/init",(function(){window.elementorFrontend.hooks.addAction("frontend/element_ready/lakit-timeline-horizontal.default",(function(e){var i=e.find(".lakit-htimeline"),n=e.find(".lakit-htimeline-track"),a=e.find(".lakit-htimeline-item"),o=e.find(".lakit-arrow"),l=e.find(".next-arrow"),s=e.find(".prev-arrow"),r=i.data("columns")||{},d=r.desktop||3,m=r.tablet||d,c=r.mobile||m,f=!0,h=elementorFrontend.getCurrentDeviceMode(),u=h,k=e.find(".lakit-htimeline-list--middle .lakit-htimeline-item").length,v=0,w=0,b={desktop:100/d,tablet:100/m,mobile:100/c},p={desktop:Math.max(0,k-d),tablet:Math.max(0,k-m),mobile:Math.max(0,k-c)};t(".lakit-htimeline-list--top",e);function g(){var t=e.find(".lakit-htimeline__line");if(0===t.length)return;let n=e.find(".lakit-htimeline-item__point-content:first"),a=e.find(".lakit-htimeline-item__point-content:last"),o=n.position().left+parseInt(n.css("marginLeft")),l=a.position().left+parseInt(a.css("marginLeft")),s=n.outerWidth();t.css({left:o+s/2,width:l-o}),i.css({"--lakit-htimeline-line-offset":t.offset().top-i.offset().top+"px"});var r=e.find(".lakit-htimeline__line-progress"),d=e.find(".lakit-htimeline-list--middle .lakit-htimeline-item.is-active:last");if(d[0]){var m=d.find(".lakit-htimeline-item__point"),c=m.position().left+m.outerWidth()-o-s/2;r.css({width:c})}}function L(){if(o[0]){var t=e.find(".lakit-htimeline-list--middle"),i=t.position().top,n=t.outerHeight();o.css({top:i+n/2})}}"ontouchstart"in window||"ontouchend"in window?a.on("touchend.LaStudioKitsTimeLineHorizontal",(function(i){var n=t(this).data("item-id");e.find(".elementor-repeater-item-"+n).toggleClass("is-hover")})):a.on("mouseenter.LaStudioKitsTimeLineHorizontal mouseleave.LaStudioKitsTimeLineHorizontal",(function(i){if(!f||"mouseleave"!==i.type){f&&"mouseenter"===i.type&&(f=!1);var n=t(this).data("item-id");e.find(".elementor-repeater-item-"+n).toggleClass("is-hover")}})),g(),t(window).on("resize.LaStudioKitsTimeLineHorizontal orientationchange.LaStudioKitsTimeLineHorizontal",g),l[0]&&0===p[h]&&l.addClass("arrow-disabled"),o[0]&&o.on("click.LaStudioKitsTimeLineHorizontal",(function(e){var i=t(this).hasClass("next-arrow")?"next":"prev",a=elementorFrontend.getCurrentDeviceMode();"next"===i&&w<p[a]&&(v-=b[a],w+=1),"prev"===i&&w>0&&(v+=b[a],w-=1),w>0?s.removeClass("arrow-disabled"):s.addClass("arrow-disabled"),w===p[a]?l.addClass("arrow-disabled"):l.removeClass("arrow-disabled"),0===w&&(v=0),n.css({transform:"translateX("+v+"%)"})})),L(),t(window).on("resize.LaStudioKitsTimeLineHorizontal orientationchange.LaStudioKitsTimeLineHorizontal",L),t(window).on("resize.LaStudioKitsTimeLineHorizontal orientationchange.LaStudioKitsTimeLineHorizontal",(function(t){if(!i.hasClass("lastudio-hor-timeline--arrows-nav"))return;var e=elementorFrontend.getCurrentDeviceMode(),a=function(){s.addClass("arrow-disabled"),l.hasClass("arrow-disabled")&&l.removeClass("arrow-disabled"),0===p[e]&&l.addClass("arrow-disabled"),v=0,w=0,n.css({transform:"translateX(0%)"})};switch(e){case"desktop":"desktop"!==u&&(a(),u="desktop");break;case"tablet":"tablet"!==u&&(a(),u="tablet");break;case"mobile":"mobile"!==u&&(a(),u="mobile")}}));const C=e.find(".lakit-htimeline-timelinebar");function z(e,i,n=100){const a=i.offsetWidth,o=e.clientWidth;let l=i.offsetLeft-o/2+a/2;t(e).animate({scrollLeft:l},n)}n.first().on("scroll",(i=>{const n=i.currentTarget;let a=Math.abs(t(n).scrollLeft()),o=n.scrollWidth,l=t(n).innerWidth(),s=(r=a/(o-l)*100,Math.max(0,Math.min(100,r)));var r;t(".lakit-htimeline-inner",e).css({"--timeline-bar-width":s.toFixed(3)+"%"})})),a.on("click",(function(e){const i=e.currentTarget;if(z(i.closest(".lakit-htimeline-track"),i,100),C.length>0){t(i).addClass("is-active is-current");const e=i.getAttribute("data-item-id"),n=t(`.lakit-htimeline-timelinebar[data-item-id="${e}"]`);t(i).siblings().removeClass("is-current"),t(i).prevAll().addClass("is-active"),t(i).nextAll().removeClass("is-active"),n.addClass("is-active is-current"),n.siblings().removeClass("is-current"),n.prevAll().addClass("is-active"),n.nextAll().removeClass("is-active")}})),C.length>0&&C.on("click",(e=>{const i=e.currentTarget.getAttribute("data-item-id"),n=e.currentTarget;z(n.closest(".lakit-htimeline-track"),n,100),t(`.lakit-htimeline-item[data-item-id="${i}"]`).trigger("click")}))}))}))}(jQuery);